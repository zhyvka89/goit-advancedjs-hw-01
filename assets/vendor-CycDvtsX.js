function G(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Q(h,c){for(var f=0;f<c.length;f++){var u=c[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}function V(h,c,f){return c&&Q(h.prototype,c),h}var K=Object.defineProperty,E=function(h,c){return K(h,"name",{value:c,configurable:!0})},$=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\r
  <path d="m8.94 8 4.2-4.193a.67.67 0 0 0-.947-.947L8 7.06l-4.193-4.2a.67.67 0 1 0-.947.947L7.06 8l-4.2 4.193a.667.667 0 0 0 .217 1.093.666.666 0 0 0 .73-.146L8 8.94l4.193 4.2a.666.666 0 0 0 1.094-.217.665.665 0 0 0-.147-.73L8.94 8Z" fill="currentColor"/>\r
</svg>\r
`,J=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\r
  <path d="M16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24A10.667 10.667 0 0 1 5.333 16a10.56 10.56 0 0 1 2.254-6.533l14.946 14.946A10.56 10.56 0 0 1 16 26.667Zm8.413-4.134L9.467 7.587A10.56 10.56 0 0 1 16 5.333 10.667 10.667 0 0 1 26.667 16a10.56 10.56 0 0 1-2.254 6.533Z" fill="currentColor"/>\r
</svg>\r
`,tt=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\r
  <path d="M16 14.667A1.333 1.333 0 0 0 14.667 16v5.333a1.333 1.333 0 0 0 2.666 0V16A1.333 1.333 0 0 0 16 14.667Zm.507-5.227a1.333 1.333 0 0 0-1.014 0 1.334 1.334 0 0 0-.44.28 1.56 1.56 0 0 0-.28.44c-.075.158-.11.332-.106.507a1.332 1.332 0 0 0 .386.946c.13.118.279.213.44.28a1.334 1.334 0 0 0 1.84-1.226 1.4 1.4 0 0 0-.386-.947 1.334 1.334 0 0 0-.44-.28ZM16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24a10.666 10.666 0 1 1 0-21.333 10.666 10.666 0 0 1 0 21.333Z" fill="currentColor"/>\r
</svg>\r
`,et=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\r
  <path d="m19.627 11.72-5.72 5.733-2.2-2.2a1.334 1.334 0 1 0-1.88 1.881l3.133 3.146a1.333 1.333 0 0 0 1.88 0l6.667-6.667a1.333 1.333 0 1 0-1.88-1.893ZM16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24a10.666 10.666 0 1 1 0-21.333 10.666 10.666 0 0 1 0 21.333Z" fill="currentColor"/>\r
</svg>\r
`,ot=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\r
  <path d="M16.334 17.667a1.334 1.334 0 0 0 1.334-1.333v-5.333a1.333 1.333 0 0 0-2.665 0v5.333a1.333 1.333 0 0 0 1.33 1.333Zm-.508 5.227c.325.134.69.134 1.014 0 .165-.064.314-.159.44-.28a1.56 1.56 0 0 0 .28-.44c.076-.158.112-.332.107-.507a1.332 1.332 0 0 0-.387-.946 1.532 1.532 0 0 0-.44-.28 1.334 1.334 0 0 0-1.838 1.226 1.4 1.4 0 0 0 .385.947c.127.121.277.216.44.28Zm.508 6.773a13.333 13.333 0 1 0 0-26.667 13.333 13.333 0 0 0 0 26.667Zm0-24A10.667 10.667 0 1 1 16.54 27a10.667 10.667 0 0 1-.206-21.333Z" fill="currentColor"/>\r
</svg>\r
`,it=E(function(h){return new DOMParser().parseFromString(h,"text/html").body.childNodes[0]},"stringToHTML"),D=E(function(h){var c=new DOMParser().parseFromString(h,"application/xml");return document.importNode(c.documentElement,!0).outerHTML},"getSvgNode"),m={CONTAINER:"sn-notifications-container",NOTIFY:"sn-notify",NOTIFY_CONTENT:"sn-notify-content",NOTIFY_ICON:"sn-notify-icon",NOTIFY_CLOSE:"sn-notify-close",NOTIFY_TITLE:"sn-notify-title",NOTIFY_TEXT:"sn-notify-text",IS_X_CENTER:"sn-is-x-center",IS_Y_CENTER:"sn-is-y-center",IS_CENTER:"sn-is-center",IS_LEFT:"sn-is-left",IS_RIGHT:"sn-is-right",IS_TOP:"sn-is-top",IS_BOTTOM:"sn-is-bottom",NOTIFY_OUTLINE:"sn-notify-outline",NOTIFY_FILLED:"sn-notify-filled",NOTIFY_ERROR:"sn-notify-error",NOTIFY_WARNING:"sn-notify-warning",NOTIFY_SUCCESS:"sn-notify-success",NOTIFY_INFO:"sn-notify-info",NOTIFY_FADE:"sn-notify-fade",NOTIFY_FADE_IN:"sn-notify-fade-in",NOTIFY_SLIDE:"sn-notify-slide",NOTIFY_SLIDE_IN:"sn-notify-slide-in",NOTIFY_AUTOCLOSE:"sn-notify-autoclose"},b={ERROR:"error",WARNING:"warning",SUCCESS:"success",INFO:"info"},z={OUTLINE:"outline",FILLED:"filled"},_={FADE:"fade",SLIDE:"slide"},P={CLOSE:D($),SUCCESS:D(et),ERROR:D(J),WARNING:D(ot),INFO:D(tt)},q=E(function(h){h.wrapper.classList.add(m.NOTIFY_FADE),setTimeout(function(){h.wrapper.classList.add(m.NOTIFY_FADE_IN)},100)},"fadeIn"),B=E(function(h){h.wrapper.classList.remove(m.NOTIFY_FADE_IN),setTimeout(function(){h.wrapper.remove()},h.speed)},"fadeOut"),nt=E(function(h){h.wrapper.classList.add(m.NOTIFY_SLIDE),setTimeout(function(){h.wrapper.classList.add(m.NOTIFY_SLIDE_IN)},100)},"slideIn"),st=E(function(h){h.wrapper.classList.remove(m.NOTIFY_SLIDE_IN),setTimeout(function(){h.wrapper.remove()},h.speed)},"slideOut"),U=function(){function h(c){var f=this;G(this,h),this.notifyOut=E(function(S){S(f)},"notifyOut");var u=c.notificationsGap,N=u===void 0?20:u,x=c.notificationsPadding,H=x===void 0?20:x,X=c.status,Y=X===void 0?"success":X,A=c.effect,R=A===void 0?_.FADE:A,k=c.type,g=k===void 0?"outline":k,F=c.title,M=c.text,r=c.showIcon,n=r===void 0?!0:r,t=c.customIcon,e=t===void 0?"":t,o=c.customClass,i=o===void 0?"":o,s=c.speed,d=s===void 0?500:s,a=c.showCloseButton,l=a===void 0?!0:a,p=c.autoclose,C=p===void 0?!0:p,v=c.autotimeout,y=v===void 0?3e3:v,O=c.position,I=O===void 0?"right top":O,w=c.customWrapper,L=w===void 0?"":w;if(this.customWrapper=L,this.status=Y,this.title=F,this.text=M,this.showIcon=n,this.customIcon=e,this.customClass=i,this.speed=d,this.effect=R,this.showCloseButton=l,this.autoclose=C,this.autotimeout=y,this.notificationsGap=N,this.notificationsPadding=H,this.type=g,this.position=I,!this.checkRequirements()){console.error("You must specify 'title' or 'text' at least.");return}this.setContainer(),this.setWrapper(),this.setPosition(),this.showIcon&&this.setIcon(),this.showCloseButton&&this.setCloseButton(),this.setContent(),this.container.prepend(this.wrapper),this.setEffect(),this.notifyIn(this.selectedNotifyInEffect),this.autoclose&&this.autoClose(),this.setObserver()}return V(h,[{key:"checkRequirements",value:function(){return!!(this.title||this.text)}},{key:"setContainer",value:function(){var f=document.querySelector(".".concat(m.CONTAINER));f?this.container=f:(this.container=document.createElement("div"),this.container.classList.add(m.CONTAINER),document.body.appendChild(this.container)),this.notificationsPadding&&this.container.style.setProperty("--sn-notifications-padding","".concat(this.notificationsPadding,"px")),this.notificationsGap&&this.container.style.setProperty("--sn-notifications-gap","".concat(this.notificationsGap,"px"))}},{key:"setPosition",value:function(){this.container.classList[this.position==="center"?"add":"remove"](m.IS_CENTER),this.container.classList[this.position.includes("left")?"add":"remove"](m.IS_LEFT),this.container.classList[this.position.includes("right")?"add":"remove"](m.IS_RIGHT),this.container.classList[this.position.includes("top")?"add":"remove"](m.IS_TOP),this.container.classList[this.position.includes("bottom")?"add":"remove"](m.IS_BOTTOM),this.container.classList[this.position.includes("x-center")?"add":"remove"](m.IS_X_CENTER),this.container.classList[this.position.includes("y-center")?"add":"remove"](m.IS_Y_CENTER)}},{key:"setCloseButton",value:function(){var f=this,u=document.createElement("div");u.classList.add(m.NOTIFY_CLOSE),u.innerHTML=P.CLOSE,this.wrapper.appendChild(u),u.addEventListener("click",function(){f.close()})}},{key:"setWrapper",value:function(){var f=this;switch(this.customWrapper?this.wrapper=it(this.customWrapper):this.wrapper=document.createElement("div"),this.wrapper.style.setProperty("--sn-notify-transition-duration","".concat(this.speed,"ms")),this.wrapper.classList.add(m.NOTIFY),this.type){case z.OUTLINE:this.wrapper.classList.add(m.NOTIFY_OUTLINE);break;case z.FILLED:this.wrapper.classList.add(m.NOTIFY_FILLED);break;default:this.wrapper.classList.add(m.NOTIFY_OUTLINE)}switch(this.status){case b.SUCCESS:this.wrapper.classList.add(m.NOTIFY_SUCCESS);break;case b.ERROR:this.wrapper.classList.add(m.NOTIFY_ERROR);break;case b.WARNING:this.wrapper.classList.add(m.NOTIFY_WARNING);break;case b.INFO:this.wrapper.classList.add(m.NOTIFY_INFO);break}this.autoclose&&(this.wrapper.classList.add(m.NOTIFY_AUTOCLOSE),this.wrapper.style.setProperty("--sn-notify-autoclose-timeout","".concat(this.autotimeout+this.speed,"ms"))),this.customClass&&this.customClass.split(" ").forEach(function(u){f.wrapper.classList.add(u)})}},{key:"setContent",value:function(){var f=document.createElement("div");f.classList.add(m.NOTIFY_CONTENT);var u,N;this.title&&(u=document.createElement("div"),u.classList.add(m.NOTIFY_TITLE),u.textContent=this.title.trim(),this.showCloseButton||(u.style.paddingRight="0")),this.text&&(N=document.createElement("div"),N.classList.add(m.NOTIFY_TEXT),N.innerHTML=this.text.trim(),this.title||(N.style.marginTop="0")),this.wrapper.appendChild(f),this.title&&f.appendChild(u),this.text&&f.appendChild(N)}},{key:"setIcon",value:function(){var f=E(function(N){switch(N){case b.SUCCESS:return P.SUCCESS;case b.ERROR:return P.ERROR;case b.WARNING:return P.WARNING;case b.INFO:return P.INFO}},"computedIcon"),u=document.createElement("div");u.classList.add(m.NOTIFY_ICON),u.innerHTML=this.customIcon||f(this.status),(this.status||this.customIcon)&&this.wrapper.appendChild(u)}},{key:"setObserver",value:function(){var f=this,u=new IntersectionObserver(function(N){if(N[0].intersectionRatio<=0)f.close();else return},{threshold:0});setTimeout(function(){u.observe(f.wrapper)},this.speed)}},{key:"notifyIn",value:function(c){c(this)}},{key:"autoClose",value:function(){var f=this;setTimeout(function(){f.close()},this.autotimeout+this.speed)}},{key:"close",value:function(){this.notifyOut(this.selectedNotifyOutEffect)}},{key:"setEffect",value:function(){switch(this.effect){case _.FADE:this.selectedNotifyInEffect=q,this.selectedNotifyOutEffect=B;break;case _.SLIDE:this.selectedNotifyInEffect=nt,this.selectedNotifyOutEffect=st;break;default:this.selectedNotifyInEffect=q,this.selectedNotifyOutEffect=B}}}]),h}();E(U,"Notify");var at=U;globalThis.Notify=at;var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var j={};/*!
	By André Rinas, www.andrerinas.de
	Documentation, www.simplelightbox.com
	Available for use under the MIT License
	Version 2.14.3
*/(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;function c(r){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c(r)}function f(r,n){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=x(r))||n){t&&(r=t);var e=0,o=function(){};return{s:o,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(l){throw l},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,d;return{s:function(){t=t.call(r)},n:function(){var l=t.next();return i=l.done,l},e:function(l){s=!0,d=l},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(s)throw d}}}}function u(r){return X(r)||H(r)||x(r)||N()}function N(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(r,n){if(r){if(typeof r=="string")return Y(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y(r,n)}}function H(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function X(r){if(Array.isArray(r))return Y(r)}function Y(r,n){(n==null||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function A(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function R(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function k(r,n,t){return n&&R(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function g(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}var F=function(){function r(n,t){var e=this;if(A(this,r),g(this,"defaultOptions",{sourceAttr:"href",overlay:!0,overlayOpacity:.7,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",captionHTML:!0,close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp|avif",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox",rtl:!1,fixedClass:"sl-fixed",fadeSpeed:300,uniqueImages:!0,focus:!0,scrollZoom:!0,scrollZoomFactor:.5,download:!1}),g(this,"transitionPrefix",void 0),g(this,"isPassiveEventsSupported",void 0),g(this,"transitionCapable",!1),g(this,"isTouchDevice","ontouchstart"in window),g(this,"isAppleDevice",/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),g(this,"initialLocationHash",void 0),g(this,"pushStateSupport","pushState"in history),g(this,"isOpen",!1),g(this,"isAnimating",!1),g(this,"isClosing",!1),g(this,"isFadeIn",!1),g(this,"urlChangedOnce",!1),g(this,"hashReseted",!1),g(this,"historyHasChanges",!1),g(this,"historyUpdateTimeout",null),g(this,"currentImage",void 0),g(this,"eventNamespace","simplelightbox"),g(this,"domNodes",{}),g(this,"loadedImages",[]),g(this,"initialImageIndex",0),g(this,"currentImageIndex",0),g(this,"initialSelector",null),g(this,"globalScrollbarWidth",0),g(this,"controlCoordinates",{swipeDiff:0,swipeYDiff:0,swipeStart:0,swipeEnd:0,swipeYStart:0,swipeYEnd:0,mousedown:!1,imageLeft:0,zoomed:!1,containerHeight:0,containerWidth:0,containerOffsetX:0,containerOffsetY:0,imgHeight:0,imgWidth:0,capture:!1,initialOffsetX:0,initialOffsetY:0,initialPointerOffsetX:0,initialPointerOffsetY:0,initialPointerOffsetX2:0,initialPointerOffsetY2:0,initialScale:1,initialPinchDistance:0,pointerOffsetX:0,pointerOffsetY:0,pointerOffsetX2:0,pointerOffsetY2:0,targetOffsetX:0,targetOffsetY:0,targetScale:0,pinchOffsetX:0,pinchOffsetY:0,limitOffsetX:0,limitOffsetY:0,scaleDifference:0,targetPinchDistance:0,touchCount:0,doubleTapped:!1,touchmoveCount:0}),this.options=Object.assign(this.defaultOptions,t),this.isPassiveEventsSupported=this.checkPassiveEventsSupport(),typeof n=="string"?(this.initialSelector=n,this.elements=Array.from(document.querySelectorAll(n))):this.elements=typeof n.length<"u"&&n.length>0?Array.from(n):[n],this.relatedElements=[],this.transitionPrefix=this.calculateTransitionPrefix(),this.transitionCapable=this.transitionPrefix!==!1,this.initialLocationHash=this.hash,this.options.rel&&(this.elements=this.getRelated(this.options.rel)),this.options.uniqueImages){var o=[];this.elements=Array.from(this.elements).filter(function(i){var s=i.getAttribute(e.options.sourceAttr);return o.indexOf(s)===-1?(o.push(s),!0):!1})}this.createDomNodes(),this.options.close&&this.domNodes.wrapper.appendChild(this.domNodes.closeButton),this.options.nav&&this.domNodes.wrapper.appendChild(this.domNodes.navigation),this.options.spinner&&this.domNodes.wrapper.appendChild(this.domNodes.spinner),this.addEventListener(this.elements,"click."+this.eventNamespace,function(i){if(e.isValidLink(i.currentTarget)){if(i.preventDefault(),e.isAnimating)return!1;e.initialImageIndex=e.elements.indexOf(i.currentTarget),e.openImage(i.currentTarget)}}),this.options.docClose&&this.addEventListener(this.domNodes.wrapper,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],function(i){e.isOpen&&i.target===i.currentTarget&&e.close()}),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.eventNamespace,function(i){i.target.parentElement.classList.contains("sl-image")&&i.preventDefault()}),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.eventNamespace,this.throttle(function(i){if(e.controlCoordinates.swipeDiff=0,e.isAnimating&&i.key==="Escape"){e.currentImage.setAttribute("src",""),e.isAnimating=!1,e.close();return}e.isOpen&&(i.preventDefault(),i.key==="Escape"&&e.close(),!e.isAnimating&&["ArrowLeft","ArrowRight"].indexOf(i.key)>-1&&e.loadImage(i.key==="ArrowRight"?1:-1))},this.options.throttleInterval)),this.addEvents()}return k(r,[{key:"checkPassiveEventsSupport",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}return t}},{key:"getCaptionElement",value:function(t){if(this.options.captionSelector.startsWith("+")){var e=this.options.captionSelector.replace(/^\+/,"").trimStart(),o=t.nextElementSibling;return o&&o.matches(e)?o:!1}else if(this.options.captionSelector.startsWith(">")){var i=this.options.captionSelector.replace(/^>/,"").trimStart();return t.querySelector(i)}else return t.querySelector(this.options.captionSelector)}},{key:"generateQuerySelector",value:function(t){var e=t.tagName,o=t.id,i=t.className,s=t.parentNode;if(e==="HTML")return"HTML";var d=e;if(d+=o!==""?"#".concat(o):"",i)for(var a=i.trim().split(/\s/),l=0;l<a.length;l++)d+=".".concat(a[l]);for(var p=1,C=t;C.previousElementSibling;C=C.previousElementSibling)p+=1;return d+=":nth-child(".concat(p,")"),"".concat(this.generateQuerySelector(s)," > ").concat(d)}},{key:"createDomNodes",value:function(){if(this.domNodes.overlay=document.createElement("div"),this.domNodes.overlay.classList.add("sl-overlay"),this.domNodes.overlay.dataset.opacityTarget=this.options.overlayOpacity,this.domNodes.closeButton=document.createElement("button"),this.domNodes.closeButton.classList.add("sl-close"),this.domNodes.closeButton.innerHTML=this.options.closeText,this.domNodes.spinner=document.createElement("div"),this.domNodes.spinner.classList.add("sl-spinner"),this.domNodes.spinner.innerHTML="<div></div>",this.domNodes.navigation=document.createElement("div"),this.domNodes.navigation.classList.add("sl-navigation"),this.domNodes.navigation.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.domNodes.counter=document.createElement("div"),this.domNodes.counter.classList.add("sl-counter"),this.domNodes.counter.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.domNodes.download=document.createElement("div"),this.domNodes.download.classList.add("sl-download"),this.domNodes.downloadLink=document.createElement("a"),this.domNodes.downloadLink.setAttribute("download",""),this.domNodes.downloadLink.textContent=this.options.download,this.domNodes.download.appendChild(this.domNodes.downloadLink),this.domNodes.caption=document.createElement("div"),this.domNodes.caption.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass){var t,e=this.options.captionClass.split(/[\s,]+/);(t=this.domNodes.caption.classList).add.apply(t,u(e))}this.domNodes.image=document.createElement("div"),this.domNodes.image.classList.add("sl-image"),this.domNodes.wrapper=document.createElement("div"),this.domNodes.wrapper.classList.add("sl-wrapper"),this.domNodes.wrapper.setAttribute("tabindex",-1),this.domNodes.wrapper.setAttribute("role","dialog"),this.domNodes.wrapper.setAttribute("aria-hidden",!1),this.options.className&&this.domNodes.wrapper.classList.add(this.options.className),this.options.rtl&&this.domNodes.wrapper.classList.add("sl-dir-rtl")}},{key:"throttle",value:function(t,e){var o;return function(){o||(t.apply(this,arguments),o=!0,setTimeout(function(){return o=!1},e))}}},{key:"isValidLink",value:function(t){return!this.options.fileExt||t.getAttribute(this.options.sourceAttr)&&new RegExp("("+this.options.fileExt+")($|\\?.*$)","i").test(t.getAttribute(this.options.sourceAttr))}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return"transition"in t?"":"WebkitTransition"in t?"-webkit-":"MozTransition"in t?"-moz-":"OTransition"in t?"-o":!1}},{key:"getScrollbarWidth",value:function(){var t=0,e=document.createElement("div");return e.classList.add("sl-scrollbar-measure"),document.body.appendChild(e),t=e.offsetWidth-e.clientWidth,document.body.removeChild(e),t}},{key:"toggleScrollbar",value:function(t){var e=0,o=[].slice.call(document.querySelectorAll("."+this.options.fixedClass));if(t==="hide"){var i=window.innerWidth;if(!i){var s=document.documentElement.getBoundingClientRect();i=s.right-Math.abs(s.left)}if(document.body.clientWidth<i||this.isAppleDevice){var d=parseInt(window.getComputedStyle(document.body).paddingRight||0,10);e=this.getScrollbarWidth(),document.body.dataset.originalPaddingRight=d,(e>0||e==0&&this.isAppleDevice)&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=d+e+"px",o.forEach(function(a){var l=a.style.paddingRight,p=window.getComputedStyle(a)["padding-right"];a.dataset.originalPaddingRight=l,a.style.paddingRight="".concat(parseFloat(p)+e,"px")}))}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight+"px",o.forEach(function(a){var l=a.dataset.originalPaddingRight;typeof l<"u"&&(a.style.paddingRight=l)});return e}},{key:"close",value:function(){var t=this;if(!this.isOpen||this.isAnimating||this.isClosing)return!1;this.isClosing=!0;var e=this.relatedElements[this.currentImageIndex];e.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&(this.historyHasChanges=!1,this.hashReseted||this.resetHash()),this.removeEventListener(document,"focusin."+this.eventNamespace),this.fadeOut(this.domNodes.overlay,this.options.fadeSpeed),this.fadeOut(document.querySelectorAll(".sl-image img,  .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),this.options.fadeSpeed,function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&t.options.htmlClass!==""&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.domNodes.wrapper),t.options.overlay&&document.body.removeChild(t.domNodes.overlay),t.domNodes.additionalHtml=null,t.domNodes.download=null,e.dispatchEvent(new Event("closed.simplelightbox")),t.isClosing=!1}),this.currentImage=null,this.isOpen=!1,this.isAnimating=!1;for(var o in this.controlCoordinates)this.controlCoordinates[o]=0;this.controlCoordinates.mousedown=!1,this.controlCoordinates.zoomed=!1,this.controlCoordinates.capture=!1,this.controlCoordinates.initialScale=this.minMax(1,1,this.options.maxZoom),this.controlCoordinates.doubleTapped=!1}},{key:"hash",get:function(){return window.location.hash.substring(1)}},{key:"preload",value:function(){var t=this,e=this.currentImageIndex,o=this.relatedElements.length,i=e+1<0?o-1:e+1>=o-1?0:e+1,s=e-1<0?o-1:e-1>=o-1?0:e-1,d=new Image,a=new Image;d.addEventListener("load",function(l){var p=l.target.getAttribute("src");t.loadedImages.indexOf(p)===-1&&t.loadedImages.push(p),t.relatedElements[e].dispatchEvent(new Event("nextImageLoaded."+t.eventNamespace))}),d.setAttribute("src",this.relatedElements[i].getAttribute(this.options.sourceAttr)),a.addEventListener("load",function(l){var p=l.target.getAttribute("src");t.loadedImages.indexOf(p)===-1&&t.loadedImages.push(p),t.relatedElements[e].dispatchEvent(new Event("prevImageLoaded."+t.eventNamespace))}),a.setAttribute("src",this.relatedElements[s].getAttribute(this.options.sourceAttr))}},{key:"loadImage",value:function(t){var e=this,o=t;this.options.rtl&&(t=-t),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event("change."+this.eventNamespace)),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event((t===1?"next":"prev")+"."+this.eventNamespace));var i=this.currentImageIndex+t;if(this.isAnimating||(i<0||i>=this.relatedElements.length)&&this.options.loop===!1)return!1;this.currentImageIndex=i<0?this.relatedElements.length-1:i>this.relatedElements.length-1?0:i,this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*o-this.controlCoordinates.swipeDiff+"px"),this.fadeOut(this.domNodes.image,this.options.fadeSpeed,function(){e.isAnimating=!0,e.isClosing?e.isAnimating=!1:setTimeout(function(){var s=e.relatedElements[e.currentImageIndex];e.currentImage&&(e.currentImage.setAttribute("src",s.getAttribute(e.options.sourceAttr)),e.loadedImages.indexOf(s.getAttribute(e.options.sourceAttr))===-1&&e.show(e.domNodes.spinner),e.domNodes.image.contains(e.domNodes.caption)&&e.domNodes.image.removeChild(e.domNodes.caption),e.adjustImage(o),e.options.preloading&&e.preload())},100)})}},{key:"adjustImage",value:function(t){var e=this;if(!this.currentImage)return!1;var o=new Image,i=window.innerWidth*this.options.widthRatio,s=window.innerHeight*this.options.heightRatio;o.setAttribute("src",this.currentImage.getAttribute("src")),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.zoomPanElement(0,0,1),o.addEventListener("error",function(d){e.relatedElements[e.currentImageIndex].dispatchEvent(new Event("error."+e.eventNamespace)),e.isAnimating=!1,e.isOpen=!0,e.domNodes.spinner.style.display="none";var a=t===1||t===-1;if(e.initialImageIndex===e.currentImageIndex&&a)return e.close();e.options.alertError&&alert(e.options.alertErrorMessage),e.loadImage(a?t:1)}),o.addEventListener("load",function(d){typeof t<"u"&&(e.relatedElements[e.currentImageIndex].dispatchEvent(new Event("changed."+e.eventNamespace)),e.relatedElements[e.currentImageIndex].dispatchEvent(new Event((t===1?"nextDone":"prevDone")+"."+e.eventNamespace))),e.options.history&&e.updateURL(),e.loadedImages.indexOf(e.currentImage.getAttribute("src"))===-1&&e.loadedImages.push(e.currentImage.getAttribute("src"));var a=d.target.width,l=d.target.height;if(e.options.scaleImageToRatio||a>i||l>s){var p=a/l>i/s?a/i:l/s;a/=p,l/=p}e.domNodes.image.style.top=(window.innerHeight-l)/2+"px",e.domNodes.image.style.left=(window.innerWidth-a-e.globalScrollbarWidth)/2+"px",e.domNodes.image.style.width=a+"px",e.domNodes.image.style.height=l+"px",e.domNodes.spinner.style.display="none",e.options.focus&&e.forceFocus(),e.fadeIn(e.currentImage,e.options.fadeSpeed,function(){e.options.focus&&e.domNodes.wrapper.focus()}),e.isOpen=!0;var C,v;typeof e.options.captionSelector=="string"?C=e.options.captionSelector==="self"?e.relatedElements[e.currentImageIndex]:e.getCaptionElement(e.relatedElements[e.currentImageIndex]):typeof e.options.captionSelector=="function"&&(C=e.options.captionSelector(e.relatedElements[e.currentImageIndex])),e.options.captions&&C&&(e.options.captionType==="data"?v=C.dataset[e.options.captionsData]:e.options.captionType==="text"?v=C.innerHTML:v=C.getAttribute(e.options.captionsData)),e.options.loop?e.relatedElements.length===1?e.hide(e.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):e.show(e.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):(e.currentImageIndex===0&&e.hide(e.domNodes.navigation.querySelector(".sl-prev")),e.currentImageIndex>=e.relatedElements.length-1&&e.hide(e.domNodes.navigation.querySelector(".sl-next")),e.currentImageIndex>0&&e.show(e.domNodes.navigation.querySelector(".sl-prev")),e.currentImageIndex<e.relatedElements.length-1&&e.show(e.domNodes.navigation.querySelector(".sl-next"))),t===1||t===-1?(e.options.animationSlide&&(e.slide(0,100*t+"px"),setTimeout(function(){e.slide(e.options.animationSpeed/1e3,"0px")},50)),e.fadeIn(e.domNodes.image,e.options.fadeSpeed,function(){e.isAnimating=!1,e.setCaption(v,a)})):(e.isAnimating=!1,e.setCaption(v,a)),e.options.additionalHtml&&!e.domNodes.additionalHtml&&(e.domNodes.additionalHtml=document.createElement("div"),e.domNodes.additionalHtml.classList.add("sl-additional-html"),e.domNodes.additionalHtml.innerHTML=e.options.additionalHtml,e.domNodes.image.appendChild(e.domNodes.additionalHtml)),e.options.download&&e.domNodes.downloadLink.setAttribute("href",e.currentImage.getAttribute("src"))})}},{key:"zoomPanElement",value:function(t,e,o){this.currentImage.style[this.transitionPrefix+"transform"]="translate("+t+","+e+") scale("+o+")"}},{key:"minMax",value:function(t,e,o){return t<e?e:t>o?o:t}},{key:"setZoomData",value:function(t,e,o){this.currentImage.dataset.scale=t,this.currentImage.dataset.translateX=e,this.currentImage.dataset.translateY=o}},{key:"hashchangeHandler",value:function(){this.isOpen&&this.hash===this.initialLocationHash&&(this.hashReseted=!0,this.close())}},{key:"addEvents",value:function(){var t=this;if(this.addEventListener(window,"resize."+this.eventNamespace,function(o){t.isOpen&&t.adjustImage()}),this.addEventListener(this.domNodes.closeButton,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],this.close.bind(this)),this.options.history&&setTimeout(function(){t.addEventListener(window,"hashchange."+t.eventNamespace,function(o){t.isOpen&&t.hashchangeHandler()})},40),this.addEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace,function(o){if(!o.currentTarget.tagName.match(/button/i))return!0;o.preventDefault(),t.controlCoordinates.swipeDiff=0,t.loadImage(o.currentTarget.classList.contains("sl-next")?1:-1)}),this.options.scrollZoom){var e=1;this.addEventListener(this.domNodes.image,["mousewheel","DOMMouseScroll"],function(o){if(t.controlCoordinates.mousedown||t.isAnimating||t.isClosing||!t.isOpen)return!0;t.controlCoordinates.containerHeight==0&&(t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY));var i=o.delta||o.wheelDelta;i===void 0&&(i=o.detail),i=Math.max(-1,Math.min(1,i)),e+=i*t.options.scrollZoomFactor*e,e=Math.max(1,Math.min(t.options.maxZoom,e)),t.controlCoordinates.targetScale=e;var s=document.documentElement.scrollTop||document.body.scrollTop;t.controlCoordinates.pinchOffsetX=o.pageX,t.controlCoordinates.pinchOffsetY=o.pageY-s||0,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1?(t.controlCoordinates.zoomed=!0,(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale===1&&(t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.setZoomData(t.controlCoordinates.targetScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)})}this.addEventListener(this.domNodes.image,["touchstart."+this.eventNamespace,"mousedown."+this.eventNamespace],function(o){if(o.target.tagName==="A"&&o.type==="touchstart")return!0;if(o.type==="mousedown")o.preventDefault(),t.controlCoordinates.initialPointerOffsetX=o.clientX,t.controlCoordinates.initialPointerOffsetY=o.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.capture=!0;else{if(t.controlCoordinates.touchCount=o.touches.length,t.controlCoordinates.initialPointerOffsetX=o.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=o.touches[0].clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.touchCount===1){if(!t.controlCoordinates.doubleTapped)t.controlCoordinates.doubleTapped=!0,setTimeout(function(){t.controlCoordinates.doubleTapped=!1},300);else return t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout(function(){t.currentImage&&t.currentImage.classList.remove("sl-transition")},200),!1;t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY)}else t.controlCoordinates.touchCount===2&&(t.controlCoordinates.initialPointerOffsetX2=o.touches[1].clientX,t.controlCoordinates.initialPointerOffsetY2=o.touches[1].clientY,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.pinchOffsetX=(t.controlCoordinates.initialPointerOffsetX+t.controlCoordinates.initialPointerOffsetX2)/2,t.controlCoordinates.pinchOffsetY=(t.controlCoordinates.initialPointerOffsetY+t.controlCoordinates.initialPointerOffsetY2)/2,t.controlCoordinates.initialPinchDistance=Math.sqrt((t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)*(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)+(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)*(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)));t.controlCoordinates.capture=!0}return t.controlCoordinates.mousedown?!0:(t.transitionCapable&&(t.controlCoordinates.imageLeft=parseInt(t.domNodes.image.style.left,10)),t.controlCoordinates.mousedown=!0,t.controlCoordinates.swipeDiff=0,t.controlCoordinates.swipeYDiff=0,t.controlCoordinates.swipeStart=o.pageX||o.touches[0].pageX,t.controlCoordinates.swipeYStart=o.pageY||o.touches[0].pageY,!1)}),this.addEventListener(this.domNodes.image,["touchmove."+this.eventNamespace,"mousemove."+this.eventNamespace,"MSPointerMove"],function(o){if(!t.controlCoordinates.mousedown)return!0;if(o.type==="touchmove"){if(t.controlCoordinates.capture===!1)return!1;t.controlCoordinates.pointerOffsetX=o.touches[0].clientX,t.controlCoordinates.pointerOffsetY=o.touches[0].clientY,t.controlCoordinates.touchCount=o.touches.length,t.controlCoordinates.touchmoveCount++,t.controlCoordinates.touchCount>1?(t.controlCoordinates.pointerOffsetX2=o.touches[1].clientX,t.controlCoordinates.pointerOffsetY2=o.touches[1].clientY,t.controlCoordinates.targetPinchDistance=Math.sqrt((t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)*(t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)+(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)*(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)),t.controlCoordinates.initialPinchDistance===null&&(t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance),Math.abs(t.controlCoordinates.initialPinchDistance-t.controlCoordinates.targetPinchDistance)>=1&&(t.controlCoordinates.targetScale=t.minMax(t.controlCoordinates.targetPinchDistance/t.controlCoordinates.initialPinchDistance*t.controlCoordinates.initialScale,1,t.options.maxZoom),t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1&&(t.controlCoordinates.zoomed=!0,(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY)):(t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale))}if(o.type==="mousemove"&&t.controlCoordinates.mousedown){if(o.type=="touchmove")return!0;if(o.preventDefault(),t.controlCoordinates.capture===!1)return!1;t.controlCoordinates.pointerOffsetX=o.clientX,t.controlCoordinates.pointerOffsetY=o.clientY,t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)}t.controlCoordinates.zoomed||(t.controlCoordinates.swipeEnd=o.pageX||o.touches[0].pageX,t.controlCoordinates.swipeYEnd=o.pageY||o.touches[0].pageY,t.controlCoordinates.swipeDiff=t.controlCoordinates.swipeStart-t.controlCoordinates.swipeEnd,t.controlCoordinates.swipeYDiff=t.controlCoordinates.swipeYStart-t.controlCoordinates.swipeYEnd,t.options.animationSlide&&t.slide(0,-t.controlCoordinates.swipeDiff+"px"))}),this.addEventListener(this.domNodes.image,["touchend."+this.eventNamespace,"mouseup."+this.eventNamespace,"touchcancel."+this.eventNamespace,"mouseleave."+this.eventNamespace,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],function(o){if(t.isTouchDevice&&o.type==="touchend"&&(t.controlCoordinates.touchCount=o.touches.length,t.controlCoordinates.touchCount===0?(t.currentImage&&t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.controlCoordinates.initialScale===1&&(t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1):t.controlCoordinates.touchCount===1?(t.controlCoordinates.initialPointerOffsetX=o.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=o.touches[0].clientY):t.controlCoordinates.touchCount>1&&(t.controlCoordinates.initialPinchDistance=null)),t.controlCoordinates.mousedown){t.controlCoordinates.mousedown=!1;var i=!0;t.options.loop||(t.currentImageIndex===0&&t.controlCoordinates.swipeDiff<0&&(i=!1),t.currentImageIndex>=t.relatedElements.length-1&&t.controlCoordinates.swipeDiff>0&&(i=!1)),Math.abs(t.controlCoordinates.swipeDiff)>t.options.swipeTolerance&&i?t.loadImage(t.controlCoordinates.swipeDiff>0?1:-1):t.options.animationSlide&&t.slide(t.options.animationSpeed/1e3,"0px"),t.options.swipeClose&&Math.abs(t.controlCoordinates.swipeYDiff)>50&&Math.abs(t.controlCoordinates.swipeDiff)<t.options.swipeTolerance&&t.close()}}),this.addEventListener(this.domNodes.image,["dblclick"],function(o){if(!t.isTouchDevice)return t.controlCoordinates.initialPointerOffsetX=o.clientX,t.controlCoordinates.initialPointerOffsetY=o.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout(function(){t.currentImage&&(t.currentImage.classList.remove("sl-transition"),t.currentImage.style[t.transitionPrefix+"transform-origin"]=null)},200),t.controlCoordinates.capture=!0,!1})}},{key:"getDimensions",value:function(t){var e=window.getComputedStyle(t),o=t.offsetHeight,i=t.offsetWidth,s=parseFloat(e.borderTopWidth),d=parseFloat(e.borderBottomWidth),a=parseFloat(e.paddingTop),l=parseFloat(e.paddingBottom),p=parseFloat(e.borderLeftWidth),C=parseFloat(e.borderRightWidth),v=parseFloat(e.paddingLeft),y=parseFloat(e.paddingRight);return{height:o-d-s-a-l,width:i-p-C-v-y}}},{key:"updateHash",value:function(){var t="pid="+(this.currentImageIndex+1),e=window.location.href.split("#")[0]+"#"+t;this.hashReseted=!1,this.pushStateSupport?window.history[this.historyHasChanges?"replaceState":"pushState"]("",document.title,e):this.historyHasChanges?window.location.replace(e):window.location.hash=t,this.historyHasChanges||(this.urlChangedOnce=!0),this.historyHasChanges=!0}},{key:"resetHash",value:function(){this.hashReseted=!0,this.urlChangedOnce?history.back():this.pushStateSupport?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.historyUpdateTimeout)}},{key:"updateURL",value:function(){clearTimeout(this.historyUpdateTimeout),this.historyHasChanges?this.historyUpdateTimeout=setTimeout(this.updateHash.bind(this),800):this.updateHash()}},{key:"setCaption",value:function(t,e,o){var i=this;if(this.options.captions&&t&&t!==""&&typeof t<"u"){var s,d=!((s=o??this.options.captionHTML)!==null&&s!==void 0)||s?"innerHTML":"innerText";this.hide(this.domNodes.caption),this.domNodes.caption.style.width=e+"px",this.domNodes.caption[d]=t,this.domNodes.image.appendChild(this.domNodes.caption),setTimeout(function(){i.fadeIn(i.domNodes.caption,i.options.fadeSpeed)},this.options.captionDelay)}}},{key:"slide",value:function(t,e){if(!this.transitionCapable)return this.domNodes.image.style.left=e;this.domNodes.image.style[this.transitionPrefix+"transform"]="translateX("+e+")",this.domNodes.image.style[this.transitionPrefix+"transition"]=this.transitionPrefix+"transform "+t+"s linear"}},{key:"getRelated",value:function(t){var e;return t&&t!==!1&&t!=="nofollow"?e=Array.from(this.elements).filter(function(o){return o.getAttribute("rel")===t}):e=this.elements,e}},{key:"openImage",value:function(t){var e=this;t.dispatchEvent(new Event("show."+this.eventNamespace)),this.globalScrollbarWidth=this.getScrollbarWidth(),this.options.disableScroll&&(this.toggleScrollbar("hide"),this.globalScrollbarWidth=0),this.options.htmlClass&&this.options.htmlClass!==""&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.domNodes.wrapper),this.domNodes.wrapper.appendChild(this.domNodes.image),this.options.overlay&&document.body.appendChild(this.domNodes.overlay),this.relatedElements=this.getRelated(t.rel),this.options.showCounter&&(this.relatedElements.length==1&&this.domNodes.wrapper.contains(this.domNodes.counter)?this.domNodes.wrapper.removeChild(this.domNodes.counter):this.relatedElements.length>1&&!this.domNodes.wrapper.contains(this.domNodes.counter)&&this.domNodes.wrapper.appendChild(this.domNodes.counter)),this.options.download&&this.domNodes.download&&this.domNodes.wrapper.appendChild(this.domNodes.download),this.isAnimating=!0,this.currentImageIndex=this.relatedElements.indexOf(t);var o=t.getAttribute(this.options.sourceAttr);this.currentImage=document.createElement("img"),this.currentImage.style.display="none",this.currentImage.setAttribute("src",o),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.loadedImages.indexOf(o)===-1&&this.loadedImages.push(o),this.domNodes.image.innerHTML="",this.domNodes.image.setAttribute("style",""),this.domNodes.image.appendChild(this.currentImage),this.fadeIn(this.domNodes.overlay,this.options.fadeSpeed),this.fadeIn([this.domNodes.counter,this.domNodes.navigation,this.domNodes.closeButton,this.domNodes.download],this.options.fadeSpeed),this.show(this.domNodes.spinner),this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.domNodes.counter.querySelector(".sl-total").innerHTML=this.relatedElements.length,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout(function(){t.dispatchEvent(new Event("shown."+e.eventNamespace))},this.options.animationSpeed)}},{key:"forceFocus",value:function(){var t=this;this.removeEventListener(document,"focusin."+this.eventNamespace),this.addEventListener(document,"focusin."+this.eventNamespace,function(e){document!==e.target&&t.domNodes.wrapper!==e.target&&!t.domNodes.wrapper.contains(e.target)&&t.domNodes.wrapper.focus()})}},{key:"addEventListener",value:function(t,e,o,i){t=this.wrap(t),e=this.wrap(e);var s=f(t),d;try{for(s.s();!(d=s.n()).done;){var a=d.value;a.namespaces||(a.namespaces={});var l=f(e),p;try{for(l.s();!(p=l.n()).done;){var C=p.value,v=i||!1,y=["touchstart","touchmove","mousewheel","DOMMouseScroll"].indexOf(C.split(".")[0])>=0;y&&this.isPassiveEventsSupported&&(c(v)==="object"?v.passive=!0:v={passive:!0}),a.namespaces[C]=o,a.addEventListener(C.split(".")[0],o,v)}}catch(O){l.e(O)}finally{l.f()}}}catch(O){s.e(O)}finally{s.f()}}},{key:"removeEventListener",value:function(t,e){t=this.wrap(t),e=this.wrap(e);var o=f(t),i;try{for(o.s();!(i=o.n()).done;){var s=i.value,d=f(e),a;try{for(d.s();!(a=d.n()).done;){var l=a.value;s.namespaces&&s.namespaces[l]&&(s.removeEventListener(l.split(".")[0],s.namespaces[l]),delete s.namespaces[l])}}catch(p){d.e(p)}finally{d.f()}}}catch(p){o.e(p)}finally{o.f()}}},{key:"fadeOut",value:function(t,e,o){var i=this;t=this.wrap(t);var s=f(t),d;try{for(s.s();!(d=s.n()).done;){var a=d.value;a.style.opacity=parseFloat(a)||window.getComputedStyle(a).getPropertyValue("opacity")}}catch(C){s.e(C)}finally{s.f()}this.isFadeIn=!1;var l=16.66666/(e||this.options.fadeSpeed),p=function C(){var v=parseFloat(t[0].style.opacity);if((v-=l)<0){var y=f(t),O;try{for(y.s();!(O=y.n()).done;){var I=O.value;I.style.display="none",I.style.opacity=1}}catch(T){y.e(T)}finally{y.f()}o&&o.call(i,t)}else{var w=f(t),L;try{for(w.s();!(L=w.n()).done;){var S=L.value;S.style.opacity=v}}catch(T){w.e(T)}finally{w.f()}requestAnimationFrame(C)}};p()}},{key:"fadeIn",value:function(t,e,o,i){var s=this;t=this.wrap(t);var d=f(t),a;try{for(d.s();!(a=d.n()).done;){var l=a.value;l&&(l.style.opacity=0,l.style.display=i||"block")}}catch(y){d.e(y)}finally{d.f()}this.isFadeIn=!0;var p=parseFloat(t[0].dataset.opacityTarget||1),C=16.66666*p/(e||this.options.fadeSpeed),v=function y(){var O=parseFloat(t[0].style.opacity);if((O+=C)>p){var S=f(t),T;try{for(S.s();!(T=S.n()).done;){var Z=T.value;Z&&(Z.style.opacity=p)}}catch(W){S.e(W)}finally{S.f()}o&&o.call(s,t)}else{var I=f(t),w;try{for(I.s();!(w=I.n()).done;){var L=w.value;L&&(L.style.opacity=O)}}catch(W){I.e(W)}finally{I.f()}if(!s.isFadeIn)return;requestAnimationFrame(y)}};v()}},{key:"hide",value:function(t){t=this.wrap(t);var e=f(t),o;try{for(e.s();!(o=e.n()).done;){var i=o.value;i.style.display!="none"&&(i.dataset.initialDisplay=i.style.display),i.style.display="none"}}catch(s){e.e(s)}finally{e.f()}}},{key:"show",value:function(t,e){t=this.wrap(t);var o=f(t),i;try{for(o.s();!(i=o.n()).done;){var s=i.value;s.style.display=s.dataset.initialDisplay||e||"block"}}catch(d){o.e(d)}finally{o.f()}}},{key:"wrap",value:function(t){return typeof t[Symbol.iterator]=="function"&&typeof t!="string"?t:[t]}},{key:"on",value:function(t,e){t=this.wrap(t);var o=f(this.elements),i;try{for(o.s();!(i=o.n()).done;){var s=i.value;s.fullyNamespacedEvents||(s.fullyNamespacedEvents={});var d=f(t),a;try{for(d.s();!(a=d.n()).done;){var l=a.value;s.fullyNamespacedEvents[l]=e,s.addEventListener(l,e)}}catch(p){d.e(p)}finally{d.f()}}}catch(p){o.e(p)}finally{o.f()}return this}},{key:"off",value:function(t){t=this.wrap(t);var e=f(this.elements),o;try{for(e.s();!(o=e.n()).done;){var i=o.value,s=f(t),d;try{for(s.s();!(d=s.n()).done;){var a=d.value;typeof i.fullyNamespacedEvents<"u"&&a in i.fullyNamespacedEvents&&i.removeEventListener(a,i.fullyNamespacedEvents[a])}}catch(l){s.e(l)}finally{s.f()}}}catch(l){e.e(l)}finally{e.f()}return this}},{key:"open",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;t=t||this.elements[0],typeof jQuery<"u"&&t instanceof jQuery&&(t=t.get(0)),e>0&&(t=this.elements[e]),this.initialImageIndex=this.elements.indexOf(t),this.initialImageIndex>-1&&this.openImage(t)}},{key:"openPosition",value:function(t){var e=this.elements[t];this.open(e,t)}},{key:"next",value:function(){this.loadImage(1)}},{key:"prev",value:function(){this.loadImage(-1)}},{key:"getLighboxData",value:function(){return{currentImageIndex:this.currentImageIndex,currentImage:this.currentImage,globalScrollbarWidth:this.globalScrollbarWidth}}},{key:"destroy",value:function(){this.off(["close."+this.eventNamespace,"closed."+this.eventNamespace,"nextImageLoaded."+this.eventNamespace,"prevImageLoaded."+this.eventNamespace,"change."+this.eventNamespace,"nextDone."+this.eventNamespace,"prevDone."+this.eventNamespace,"error."+this.eventNamespace,"changed."+this.eventNamespace,"next."+this.eventNamespace,"prev."+this.eventNamespace,"show."+this.eventNamespace,"shown."+this.eventNamespace]),this.removeEventListener(this.elements,"click."+this.eventNamespace),this.removeEventListener(document,"focusin."+this.eventNamespace),this.removeEventListener(document.body,"contextmenu."+this.eventNamespace),this.removeEventListener(document.body,"keyup."+this.eventNamespace),this.removeEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace),this.removeEventListener(this.domNodes.closeButton,"click."+this.eventNamespace),this.removeEventListener(window,"resize."+this.eventNamespace),this.removeEventListener(window,"hashchange."+this.eventNamespace),this.close(),this.isOpen&&(document.body.removeChild(this.domNodes.wrapper),document.body.removeChild(this.domNodes.overlay)),this.elements=null}},{key:"refresh",value:function(){if(!this.initialSelector)throw"refreshing only works when you initialize using a selector!";var t=this.options,e=this.initialSelector;return this.destroy(),this.constructor(e,t),this}}]),r}(),M=F;h.default=M,rt.SimpleLightbox=F})(j);const dt=lt(j);export{dt as S,at as w};
//# sourceMappingURL=vendor-CycDvtsX.js.map
