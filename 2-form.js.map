{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import Notify from 'simple-notify';\nimport 'simple-notify/dist/simple-notify.css';\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst formRef = document.querySelector('.feedback-form');\nconst inputRef = document.querySelector('.feedback-form input');\nconst textareaRef = document.querySelector('.feedback-form textarea');\n\ncheckLocalStorage();\n\ninputRef.addEventListener('input', e => inputHandler(e, 'email'));\n\ntextareaRef.addEventListener('input', e => inputHandler(e, 'message'));\n\nformRef.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const isValid = Object.values(formData).some(value => value === '');\n\n  if (!isValid) {\n    console.log(formData);\n    localStorage.removeItem('feedback-form-state');\n    formRef.reset();\n    formData.email = '';\n    formData.message = '';\n  } else {\n    showNotification();\n  }\n});\n\nfunction showNotification() {\n  new Notify({\n    title: 'Empty Field',\n    text: 'Please Fill All Fields',\n    status: 'error'\n  });\n}\n\nfunction checkLocalStorage() {\n  const data = localStorage.getItem('feedback-form-state');\n\n  if (data) {\n    const parsedData = JSON.parse(data);\n    formData.email = parsedData.email;\n    formData.message = parsedData.message;\n    inputRef.value = parsedData.email;\n    textareaRef.value = parsedData.message;\n  }\n}\n\nfunction inputHandler(event, key) {\n  formData[key] = event.target.value.trim();\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n"],"names":["formData","formRef","inputRef","textareaRef","checkLocalStorage","inputHandler","value","showNotification","Notify","data","parsedData","event","key"],"mappings":"oGAGA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAW,SAAS,cAAc,sBAAsB,EACxDC,EAAc,SAAS,cAAc,yBAAyB,EAEpEC,IAEAF,EAAS,iBAAiB,QAAS,GAAKG,EAAa,EAAG,OAAO,CAAC,EAEhEF,EAAY,iBAAiB,QAAS,GAAKE,EAAa,EAAG,SAAS,CAAC,EAErEJ,EAAQ,iBAAiB,SAAU,GAAK,CACtC,EAAE,eAAc,EAEA,OAAO,OAAOD,CAAQ,EAAE,KAAKM,GAASA,IAAU,EAAE,EAShEC,KANA,QAAQ,IAAIP,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CC,EAAQ,MAAK,EACbD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAIvB,CAAC,EAED,SAASO,GAAmB,CAC1B,IAAIC,EAAO,CACT,MAAO,cACP,KAAM,yBACN,OAAQ,OACZ,CAAG,CACH,CAEA,SAASJ,GAAoB,CAC3B,MAAMK,EAAO,aAAa,QAAQ,qBAAqB,EAEvD,GAAIA,EAAM,CACR,MAAMC,EAAa,KAAK,MAAMD,CAAI,EAClCT,EAAS,MAAQU,EAAW,MAC5BV,EAAS,QAAUU,EAAW,QAC9BR,EAAS,MAAQQ,EAAW,MAC5BP,EAAY,MAAQO,EAAW,OAChC,CACH,CAEA,SAASL,EAAaM,EAAOC,EAAK,CAChCZ,EAASY,CAAG,EAAID,EAAM,OAAO,MAAM,OACnC,aAAa,QAAQ,sBAAuB,KAAK,UAAUX,CAAQ,CAAC,CACtE"}